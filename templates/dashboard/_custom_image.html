{# templates/dashboard/_custom_image.html #}
{% load static %}

<div class="widget size-medium" data-widget-name="Image">
  <!-- é€šå¸¸è¡¨ç¤º -->
  <div class="widget-content">
    <section class="card custom-image-widget">
      <h2 class="custom-image__title">ãƒã‚¤ç”»åƒ</h2>
      <input type="file" accept="image/*" class="custom-image__input">
      <div class="custom-image__container">
        {% if image_url %}
          <img
            src="{{ image_url }}"
            class="custom-image__preview"
            alt="ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸç”»åƒ"
            onerror="this.style.display='none';this.insertAdjacentHTML('afterend','<span>ç”»åƒãŒè¡¨ç¤ºã§ãã¾ã›ã‚“</span>');"
          >
        {% else %}
          <img
            src="{% static 'images/placeholder.png' %}"
            class="custom-image__preview"
            alt="ç”»åƒã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼"
            onerror="this.style.display='none';this.insertAdjacentHTML('afterend','<span>ç”»åƒãŒè¡¨ç¤ºã§ãã¾ã›ã‚“</span>');"
          >
        {% endif %}
      </div>
    </section>
  </div>

  <!-- ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ -->
  <div class="widget-edit-overlay">
    <span class="widget-name">Image</span>
    <button class="widget-delete" title="å‰Šé™¤">ğŸ—‘ï¸</button>
  </div>
</div>
